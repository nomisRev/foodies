Command finished with exit code 1.
stdout=
Starting a Gradle Daemon, 1 busy and 1 stopped Daemons could not be reused, use --status for details
Calculating task graph as configuration cache cannot be reused because file 'settings.gradle.kts' has changed.

The Kotlin Gradle plugin was loaded multiple times in different subprojects, which is not supported and may break the build. 
This might happen in subprojects that apply the Kotlin plugins with the Gradle 'plugins { ... }' DSL if they specify explicit versions, even if the versions are equal.
Please add the Kotlin plugin to the common parent project or the root project, then remove the versions in the subprojects.
If the parent project does not need the plugin, add 'apply false' to the plugin line.
See: https://docs.gradle.org/current/userguide/plugins.html#sec:subprojects_plugins_dsl
The Kotlin plugin was loaded in the following projects: ':basket', ':keycloak-events', ':keycloak-rabbitmq-publisher', ':rabbitmq-ext'
> Task :basket:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :server-shared:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :server-shared-test:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :keycloak-events:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :rabbitmq-ext:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :keycloak-rabbitmq-publisher:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :menu:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :keycloak-events:processResources NO-SOURCE
> Task :rabbitmq-ext:processResources NO-SOURCE
> Task :keycloak-events:processTestResources NO-SOURCE
> Task :basket:processTestResources NO-SOURCE
> Task :keycloak-rabbitmq-publisher:processTestResources NO-SOURCE
> Task :server-shared:processResources NO-SOURCE
> Task :server-shared-test:processResources NO-SOURCE
> Task :profile:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :profile:processTestResources NO-SOURCE
> Task :menu:processTestResources NO-SOURCE
> Task :rabbitmq-ext:processTestResources NO-SOURCE
> Task :server-shared:processTestResources NO-SOURCE
> Task :server-shared-test:processTestResources NO-SOURCE
> Task :webapp:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :profile:processResources UP-TO-DATE
> Task :keycloak-rabbitmq-publisher:processResources UP-TO-DATE
> Task :basket:processResources UP-TO-DATE
> Task :server-shared:generateTestBalloonEntryPoint UP-TO-DATE
> Task :basket:generateTestBalloonEntryPoint UP-TO-DATE
> Task :server-shared-test:generateTestBalloonEntryPoint UP-TO-DATE
> Task :profile:generateTestBalloonEntryPoint UP-TO-DATE
> Task :rabbitmq-ext:generateTestBalloonEntryPoint UP-TO-DATE
> Task :webapp:generateTestBalloonEntryPoint UP-TO-DATE
> Task :keycloak-rabbitmq-publisher:generateTestBalloonEntryPoint UP-TO-DATE
> Task :menu:generateTestBalloonEntryPoint UP-TO-DATE
> Task :webapp:processTestResources NO-SOURCE
> Task :webapp:processResources UP-TO-DATE
> Task :keycloak-events:compileKotlin UP-TO-DATE
> Task :rabbitmq-ext:compileKotlin UP-TO-DATE
> Task :keycloak-events:compileJava NO-SOURCE
> Task :keycloak-events:classes UP-TO-DATE
> Task :rabbitmq-ext:compileJava NO-SOURCE
> Task :rabbitmq-ext:classes UP-TO-DATE
> Task :server-shared:compileKotlin UP-TO-DATE
> Task :keycloak-events:jar UP-TO-DATE
> Task :rabbitmq-ext:jar UP-TO-DATE
> Task :keycloak-events:assemble UP-TO-DATE
> Task :server-shared:compileJava NO-SOURCE
> Task :server-shared:classes UP-TO-DATE
> Task :rabbitmq-ext:assemble UP-TO-DATE
> Task :keycloak-events:compileTestKotlin NO-SOURCE
> Task :keycloak-events:compileTestJava NO-SOURCE
> Task :keycloak-events:testClasses UP-TO-DATE
> Task :server-shared:jar UP-TO-DATE
> Task :keycloak-events:test NO-SOURCE
> Task :server-shared:assemble UP-TO-DATE
> Task :keycloak-events:check UP-TO-DATE
> Task :keycloak-events:build UP-TO-DATE
> Task :menu:processResources
> Task :profile:compileKotlin UP-TO-DATE
> Task :profile:compileJava NO-SOURCE
> Task :profile:classes UP-TO-DATE
> Task :profile:jar UP-TO-DATE
> Task :profile:startScripts UP-TO-DATE
> Task :profile:shadowJar UP-TO-DATE
> Task :profile:startShadowScripts UP-TO-DATE
> Task :profile:distTar UP-TO-DATE
> Task :profile:distZip UP-TO-DATE
> Task :profile:shadowDistTar UP-TO-DATE
> Task :profile:shadowDistZip UP-TO-DATE
> Task :profile:assemble UP-TO-DATE
> Task :keycloak-rabbitmq-publisher:compileKotlin UP-TO-DATE
> Task :keycloak-rabbitmq-publisher:compileJava NO-SOURCE
> Task :keycloak-rabbitmq-publisher:classes UP-TO-DATE
> Task :keycloak-rabbitmq-publisher:jar UP-TO-DATE
> Task :keycloak-rabbitmq-publisher:shadowJar UP-TO-DATE
> Task :keycloak-rabbitmq-publisher:assemble UP-TO-DATE
> Task :server-shared-test:compileKotlin FROM-CACHE
> Task :server-shared-test:compileJava NO-SOURCE
> Task :server-shared-test:classes UP-TO-DATE
> Task :menu:compileKotlin FROM-CACHE
> Task :menu:compileJava NO-SOURCE
> Task :menu:classes
> Task :basket:compileKotlin FROM-CACHE
> Task :basket:compileJava NO-SOURCE
> Tas
...<omitted due to large string size>...
2026-01-13 15:38:07.018 [Thread-65] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.018 [Thread-74] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.018 [Thread-44] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-38] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-76] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-91] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-42] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-52] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-87] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-69] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-82] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-14] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-89] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-92] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-41] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-81] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-31] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-90] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-55] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-78] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-15] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.019 [Thread-62] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-51] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-75] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-83] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-84] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-98] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-97] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-47] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-16] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-45] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-70] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-100] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-61] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-63] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-33] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-93] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
2026-01-13 15:38:07.020 [Thread-64] INFO  c.s.cohort.HealthCheckRegistry - Cohort HealthCheckRegistry shutdown hook is executing
66 actionable tasks: 18 executed, 18 from cache, 30 up-to-date
Configuration cache entry stored.

stderr=
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/Home.kt:30:39 No type arguments expected for fun get(name: String): Any?.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/Home.kt:30:40 Unresolved reference 'UserSession'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/Home.kt:30:52 No value passed for parameter 'name'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/Security.kt:58:40 Unresolved reference 'coroutines'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/Security.kt:64:9 None of the following candidates is applicable:

fun <S : Any> SessionsConfig.cookie(name: String, typeInfo: TypeInfo, storage: SessionStorage): Unit:
  Argument type mismatch: actual type is 'SessionStorage', but 'TypeInfo' was expected.
  Argument type mismatch: actual type is 'Function0<Unit>', but 'SessionStorage' was expected.

fun <S : Any> SessionsConfig.cookie(name: String, sessionType: KClass<S>, builder: CookieSessionBuilder<S>): Unit:
  Argument type mismatch: actual type is 'SessionStorage', but 'KClass<uninferred S (of fun <S : Any> SessionsConfig.cookie)>' was expected.
  Argument type mismatch: actual type is 'Function0<Unit>', but 'CookieSessionBuilder<uninferred S (of fun <S : Any> SessionsConfig.cookie)>' was expected.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/Security.kt:65:13 Function invocation 'cookie(...)' expected.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/Security.kt:65:20 Unresolved reference 'secure'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/Security.kt:66:13 Function invocation 'cookie(...)' expected.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/Security.kt:66:20 Unresolved reference 'httpOnly'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/Security.kt:67:13 Function invocation 'cookie(...)' expected.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/Security.kt:67:20 Unresolved reference 'extensions'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/WebApp.kt:6:36 Unresolved reference 'LettuceHealthCheck'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/WebApp.kt:63:35 Unresolved reference 'LettuceHealthCheck'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:3:31 Unresolved reference 'UserSession'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:59:48 No type arguments expected for fun get(name: String): Any?.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:59:49 Unresolved reference 'UserSession'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:59:61 No value passed for parameter 'name'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:61:67 Unresolved reference 'idToken'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:73:48 No type arguments expected for fun get(name: String): Any?.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:73:49 Unresolved reference 'UserSession'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:73:61 No value passed for parameter 'name'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:76:76 Unresolved reference 'idToken'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:89:48 No type arguments expected for fun get(name: String): Any?.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:89:49 Unresolved reference 'UserSession'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:89:61 No value passed for parameter 'name'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:106:74 Unresolved reference 'idToken'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:123:48 No type arguments expected for fun get(name: String): Any?.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:123:49 Unresolved reference 'UserSession'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:123:61 No value passed for parameter 'name'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:133:85 Unresolved reference 'idToken'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:149:48 No type arguments expected for fun get(name: String): Any?.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:149:49 Unresolved reference 'UserSession'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:149:61 No value passed for parameter 'name'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:155:77 Unresolved reference 'idToken'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:171:48 No type arguments expected for fun get(name: String): Any?.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:171:49 Unresolved reference 'UserSession'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:171:61 No value passed for parameter 'name'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/cart/CartRoutes.kt:174:65 Unresolved reference 'idToken'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/menu/MenuRoutes.kt:4:31 Unresolved reference 'UserSession'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/menu/MenuRoutes.kt:38:51 No type arguments expected for fun get(name: String): Any?.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/menu/MenuRoutes.kt:38:52 Unresolved reference 'UserSession'.
e: file:///Users/simonvergauwen/Developer/foodies/webapp/src/main/kotlin/io/ktor/foodies/server/menu/MenuRoutes.kt:38:64 No value passed for parameter 'name'.

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':webapp:compileKotlin'.
> A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction
   > Compilation error. See log for more details

* Try:
> Run with --stacktrace option to get the stack trace.
> Run with --info or --debug option to get more log output.
> Run with --scan to generate a Build Scan (powered by Develocity).
> Get more help at https://help.gradle.org.

BUILD FAILED in 14s
